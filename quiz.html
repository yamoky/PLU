<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>PLU Formation - Quiz</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
    />
    <link rel="stylesheet" href="style.css?v=6" />
  </head>
  <body>
    <header class="site-header">
      <div class="container header-content">
        <div class="logo-area">
          <a href="index.html" class="logo-link">
            <span class="logo"
              >PLU<span class="logo-accent">Formation</span></span
            >
          </a>
          <p class="logo-subtitle">Quiz d‚Äôentra√Ænement aux codes PLU</p>
        </div>

        <nav class="nav-actions">
          <a href="index.html" class="btn btn-secondary">Retour √† l‚Äôaccueil</a>
        </nav>
      </div>
    </header>

    <main class="container main-content">
      <!-- Configuration du quiz -->
      <section class="card">
        <h1>Configurer ton quiz</h1>
        <p class="section-description">
          Choisis le <strong>nombre de questions</strong>, la
          <strong>dur√©e de la session</strong> et le
          <strong>type de quiz</strong>. Le quiz s‚Äôarr√™te soit quand le temps
          est √©coul√©, soit quand tu as r√©pondu √† toutes les questions.
        </p>

        <form id="quizConfigForm" class="quiz-config-form">
          <div class="form-group">
            <label for="questionCount">Nombre de questions</label>
            <input
              id="questionCount"
              type="number"
              min="1"
              max="100"
              value="10"
              required
            />
          </div>

          <div class="form-group">
            <label for="quizDuration">Dur√©e de la session (en minutes)</label>
            <input
              id="quizDuration"
              type="number"
              min="1"
              max="120"
              value="5"
              required
            />
          </div>

          <div class="form-group">
            <label for="quizMode">Type de quiz</label>
            <select id="quizMode">
              <option value="mcq" selected>
                QCM (code ‚Üî produit, avec images)
              </option>
              <option value="typing">
                Saisie du code √† partir de l‚Äôimage
              </option>
            </select>
          </div>

          <button type="submit" class="btn btn-primary">
            Lancer le quiz
          </button>
        </form>
      </section>

      <!-- Zone du quiz -->
      <section id="quizPanel" class="card quiz-panel" hidden>
        <div class="quiz-header">
          <div class="quiz-timer">
            ‚è± Temps restant :
            <span id="timerDisplay">00:00</span>
          </div>
          <div class="quiz-progress">
            Question <span id="currentQuestionIndex">0</span> /
            <span id="totalQuestions">0</span>
          </div>
        </div>

        <div class="quiz-body">
          <div class="quiz-media">
            <img
              id="questionImage"
              class="quiz-image"
              alt="Illustration du produit"
            />
          </div>

          <div>
            <h2 id="questionText" class="quiz-question"></h2>

            <!-- QCM -->
            <div id="answersContainer" class="answers-grid"></div>

            <!-- Mode saisie du code -->
            <div id="typingContainer" class="typing-container" hidden>
              <input
                id="typingInput"
                type="number"
                inputmode="numeric"
                pattern="[0-9]*"
                placeholder="Tape le code PLU et appuie sur Entr√©e"
              />
              <p id="typingHelper" class="typing-helper">
                Appuie sur la touche <strong>Entr√©e</strong> pour valider ta
                r√©ponse.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- R√©sultats -->
      <section id="resultsPanel" class="card" hidden>
        <h2>R√©sultats du quiz</h2>
        <div class="results-summary">
          <p>
            Questions pos√©es :
            <strong><span id="resultsQuestionsCount">0</span></strong>
          </p>
          <p>
            Bonnes r√©ponses :
            <strong><span id="resultsCorrectCount">0</span></strong>
          </p>
          <p>
            Nombre d‚Äôerreurs :
            <strong><span id="resultsErrorsCount">0</span></strong>
          </p>
          <p>
            Pourcentage de r√©ussite :
            <strong><span id="resultsSuccessRate">0</span>%</strong>
          </p>
        </div>

        <h3>Correction des erreurs</h3>
        <p class="section-description">
          Retrouve ci-dessous les questions o√π tu t‚Äôes tromp√©, avec la bonne
          r√©ponse.
        </p>

        <div id="mistakesList" class="mistakes-list"></div>

        <button id="restartQuizBtn" class="btn btn-primary">
          Relancer une session
        </button>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container">
        <p>PLUFormation ‚Ä¢ Continue de t‚Äôentra√Æner pour retenir tous les PLU üí™</p>
      </div>
    </footer>

    <script src="data.js" defer></script>
    <script src="quiz.js" defer></script>
  </body>
</html>
